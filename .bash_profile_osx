# Git branch prompt completion
. /usr/local/etc/bash_completion.d/git-completion.bash

# Bash prompt
# export PS1="\[\033[01;32m\]\u@\h\[\033[00m\]:\[\033[01;34m\]\W\[\033[00m\]$ "
export PS1="\[\033[01;32m\]\d \t \w\$(__git_ps1) \[\033[00m\]$ "

# Don't use the Apple LLVM GCC
export CC=gcc-4.2
export CXX=g++-4.2

# Make the Ruby MySQL gem work
export DYLD_LIBRARY_PATH=/usr/local/mysql/lib

# Ruby GC settings
export RUBY_HEAP_MIN_SLOTS=600000
export RUBY_GC_MALLOC_LIMIT=59000000
export RUBY_HEAP_FREE_MIN=100000

# Common aliases
alias ls='ls -lG' # colors + always use the long format
alias vless=/usr/share/vim/vim73/macros/less.sh # less with syntax highlighting
alias be='bundle exec'
alias ber='bundle exec rake'

# Git aliases

alias ga='git add'
alias gap='git add -p'

alias gc='git commit'
alias gcm='git commit -m'
alias gcam='git commit -am'
alias gca='git commit --amend'

alias gd='git diff'
alias gdc='git diff --cached'

alias gl='git log'
alias glp='git log -p'

alias gp='git pull && git pull --rebase'

alias gpo='git push origin'
alias gpom='git push origin master'

alias grh='git reset HEAD'

alias gs='git status'

# Python virtualenvwrapper
export WORKON_HOME=$HOME/virtualenvs
source /usr/local/bin/virtualenvwrapper.sh
# workon analytics

export CODE_HOME=/Users/clizzin/code

# Java
export JAVA_HOME=$(/usr/libexec/java_home)
export JAVA_HOME="/System/Library/Frameworks/JavaVM.framework/Home" # for EC2
export JAVA_OPTS=-Xmx2048m

# Maven
export M2_REPO=$HOME/.m2/repository

# Hadoop
alias haddop='hadoop' # I make this goddamn typo all the time
export HADOOP_INSTALL=$CODE_HOME/hadoop-0.20.2-cdh3u0
export HADOOP_HOME=$HADOOP_INSTALL
export PATH=$HADOOP_INSTALL/bin:$PATH

# Hadoop LZO
export HADOOP_LZO_HOME=/Users/clizzin/code/hadoop-lzo
export HADOOP_CLASSPATH=$HADOOP_LZO_HOME/build/hadoop-lzo-0.4.10.jar:$HADOOP_HOME:$HADOOP_HOME/lib
export JAVA_LIBRARY_PATH=$HADOOP_LZO_HOME/build/hadoop-lzo-0.4.10/lib/native/Mac_OS_X-x86_64-64:$HADOOP_HOME/build/lib/native/Linux-amd64-64

# HBase
# export HBASE_INSTALL=$CODE_HOME/hbase-0.90.1-cdh3u0
# export HBASE_HOME=$HBASE_INSTALL
# export PATH=$HBASE_INSTALL/bin:$PATH

# Whirr
# export WHIRR_INSTALL=$CODE_HOME/whirr-0.5.0-incubating
# export PATH=$WHIRR_INSTALL/bin:$PATH
# export PATH=$WHIRR_INSTALL/contrib/python/src/py:$PATH
# alias whirr-hadoop='HADOOP_CONF_DIR=~/.whirr/hadoop hadoop'

# Pig
# export PIG_INSTALL=$CODE_HOME/pig-0.8.0-cdh3u0
# export PIG_HOME=$PIG_INSTALL
# export PATH=$PIG_HOME/bin:$PATH

# Hive
export HIVE_INSTALL=$CODE_HOME/hive-0.7.1-cdh3u2
export HIVE_HOME=$HIVE_INSTALL
export PATH=$HIVE_HOME/bin:$PATH

# Flume
# export FLUME_HOME=$CODE_HOME/flume-0.9.3-cdh3u0
# export FLUME_CONF_DIR=$FLUME_HOME/conf
# export PATH=$FLUME_HOME/bin:$PATH

# ZooKeeper
# export ZOOKEEPER_INSTALL=$CODE_HOME/zookeeper-3.3.3-cdh3u0
# export ZOOKEEPER_HOME=$ZOOKEEPER_INSTALL
# export PATH=$ZOOKEEPER_INSTALL/bin:$PATH

# Sqoop
# export SQOOP_HOME=$CODE_HOME/sqoop-1.3.0
# export PATH=$SQOOP_HOME/bin:$PATH

# Mahout
# export MAHOUT_HOME=/Users/clizzin/code/mahout-distribution-0.4  # 0.4 release
# export PATH=$PATH:$MAHOUT_HOME/bin

# Amazon Elastic MapReduce Ruby client
export PATH=$CODE_HOME/elastic-mapreduce-ruby:$PATH
alias emr=elastic-mapreduce

# Nutch
# export NUTCH_HOME=/Users/clizzin/code/apache-nutch-1.1
# export PATH=$PATH:$NUTCH_HOME/bin

# Node.js (via Homebrew)
NODE_PATH=/usr/local/lib/node:/usr/local/lib/node_modules

# OpenCV
export PYTHONPATH="/usr/local/lib/python2.7/site-packages:$PYTHONPATH"

# Loads RVM into a shell session
[[ -s "/Users/clizzin/.rvm/scripts/rvm" ]] && source "/Users/clizzin/.rvm/scripts/rvm"

# Add RVM to PATH for scripting
PATH=$PATH:$HOME/.rvm/bin 

# Loads Pythonbrew into a shell session
[[ -s $HOME/.pythonbrew/etc/bashrc ]] && source $HOME/.pythonbrew/etc/bashrc

# AWS EC2 Tools
export EC2_HOME="/usr/local/Cellar/ec2-api-tools/1.5.2.4/jars"
export EC2_CERT="$(/bin/ls $HOME/.ec2/pk-*.pem)"
export EC2_PRIVATE_KEY="$(/bin/ls $HOME/.ec2/cert-*.pem)"

# AWS admin
export EC2_CERT="$(/bin/ls $HOME/.ec2/pk-*.pem)"
export EC2_PRIVATE_KEY="$(/bin/ls $HOME/.ec2/cert-*.pem)"

export AWS_ELB_HOME="/usr/local/Cellar/elb-tools/1.0.15.1/jars"

# AWS IAM Tools
export AWS_IAM_HOME=/usr/local/Cellar/aws-iam-tools/HEAD/jars
export AWS_CREDENTIAL_FILE=$HOME/.aws-credentials-master
source /Users/clizzin/scripts/set_aws_credentials.sh

# Add higher-priority binaries to PATH
export PATH=/usr/local/mysql/bin:$PATH              # MySQL
export PATH=/usr/local/bin:$PATH                    # Homebrew binaries
# export PATH=/opt/local/bin:/opt/local/sbin:$PATH  # MacPorts

# Start MySQL daemon
# sudo /usr/local/mysql/bin/mysqld_safe

# Start Redis
alias airbnb_redis="redis-server $HOME/code/airbnb/config/redis/development.conf && redis-server $HOME/code/airbnb/config/redis/test.conf && echo 'redis daemons running...'"
